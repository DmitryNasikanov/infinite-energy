<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>the-switch â€“ ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ“ĞµĞ»Ğ¸Ğ¾Ñ</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../images/favicon.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-ade000faa502ff19940f8f0164ee5c92.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-WW2S48BBEP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-WW2S48BBEP');
</script>
<style>
.content { max-width: 900px; }
p { text-indent: 1.5em; margin-top: 0.3em; margin-bottom: 0.3em; text-align: justify; }
h1 + p, h2 + p, h3 + p, h4 + p { text-indent: 0; }
p:has(img), .quarto-figure, .figure { text-indent: 0; }
p:has(> strong:first-child) { text-indent: 0; }
p:has(> em:first-child) { text-indent: 0; }
/* ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ outline-ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ */
.btn-outline {
  display: inline-block;
  padding: 0.8rem 2rem;
  border: 2px solid #555;
  border-radius: 8px;
  color: #555;
  text-decoration: none;
  font-weight: 500;
  transition: all 0.2s ease;
  background: transparent;
  text-align: center;
}
.btn-outline:hover {
  background: #555;
  color: #fff;
  text-decoration: none;
}
.btn-outline-primary {
  border-color: #0d6efd;
  color: #0d6efd;
}
.btn-outline-primary:hover {
  background: #0d6efd;
  color: #fff;
}
/* ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ ÑĞ·Ñ‹Ğº Ğ² dropdown */
.dropdown-item.active {
  font-weight: bold;
  background-color: rgba(0,0,0,0.05);
  color: inherit !important;
}
</style>
<script>
// Language switcher - handles GitHub Pages subdirectory
const LANG_FLAGS = { ru: 'ğŸ‡·ğŸ‡º', en: 'ğŸ‡¬ğŸ‡§' };  // For matching dropdown items
const LANG_LABELS = { ru: 'RU', en: 'EN' };   // For navbar indicator

// Translation map for navigation labels (RU â†’ EN)
const TRANSLATIONS = {
  // Navbar
  'ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ“ĞµĞ»Ğ¸Ğ¾Ñ': 'Project Helios',
  'ĞšĞ½Ğ¸Ğ³Ğ°': 'Book',
  'ĞĞ°ÑƒĞºĞ°': 'Science',
  'ĞĞ± Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğµ': 'About',
  // Sidebar sections
  'ĞĞ±Ğ·Ğ¾Ñ€': 'Overview',
  'Ğ¡Ğ²Ğ¾Ğ´Ğ½Ñ‹Ğµ ÑÑ‚Ğ°Ñ‚ÑŒĞ¸': 'Summary Articles',
  'Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ‚ĞµĞ¼Ñ‹': 'Detailed Topics',
  'Ğ¡Ğ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸': 'Reference',
  // Executive summary
  'ĞŸÑ€Ğ¾ĞµĞºÑ‚ Â«Ğ“ĞµĞ»Ğ¸Ğ¾ÑÂ» Ğ·Ğ° 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚': 'Project Helios in 5 Minutes',
  // Summary articles
  'ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ĞœĞµÑ€ĞºÑƒÑ€Ğ¸Ğ¹?': 'Why Mercury?',
  'Ğ›ÑƒĞ½Ğ°': 'Moon',
  'Ğ‘ÑĞ´Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°': 'Project Budget',
  'Ğ”Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ğ°Ñ ĞºĞ°Ñ€Ñ‚Ğ°': 'Roadmap',
  'ĞœĞ°Ñ€Ñ (Ğ¿ĞµÑ€ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ğ°)': 'Mars (Perspective)',
  // Main detailed topics
  'Ğ—ĞµÑ€ĞºĞ°Ğ»Ğ° Ğ Ğ¾Ñ': 'Swarm Mirrors',
  'Ğ“ĞµĞ¾Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ Ğ¾Ñ‚Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ': 'Reflection Geometry',
  'Ğ¥Ğ°Ğ± Ğ¿Ñ€Ğ¸Ñ‘Ğ¼Ğ° ÑĞ½ĞµÑ€Ğ³Ğ¸Ğ¸': 'Energy Reception Hub',
  'Ğ­Ğ½ĞµÑ€Ğ³Ğ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° ĞœĞµÑ€ĞºÑƒÑ€Ğ¸Ñ': 'Mercury Power System',
  'Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ°': 'Delivery',
  'ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾': 'Production',
  // Production section
  'ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ': 'Navigation',
  'ĞŸĞµÑ€ĞµÑ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ€ĞµĞ³Ğ¾Ğ»Ğ¸Ñ‚Ğ°': 'Regolith Processing',
  'Ğ­Ğ»ĞµĞºÑ‚Ñ€Ğ¾Ğ»Ğ¸Ğ· MRE': 'MRE Electrolysis',
  'Ğ”Ğ¸ÑÑ‚Ğ¸Ğ»Ğ»ÑÑ†Ğ¸Ñ ÑˆĞ»Ğ°ĞºĞ°': 'Slag Distillation',
  'Ğ¡Ñ‚ĞµĞºĞ»Ğ¾Ğ²Ğ¾Ğ»Ğ¾ĞºĞ½Ğ¾': 'Glass Fiber',
  'Ğ›Ğ¸Ğ½Ğ¸Ñ Ñ‚Ğ¸Ñ‚Ğ°Ğ½Ğ°': 'Titanium Line',
  'Ğ£Ğ³Ğ»ĞµÑ€Ğ¾Ğ´ (Ğ¾Ğ¿Ñ†.)': 'Carbon (opt.)',
  'ĞšÑ€ĞµĞ¼Ğ½Ğ¸Ğ¹': 'Silicon',
  'ĞšĞµÑ€Ğ°Ğ¼Ğ¸ĞºĞ° MgO': 'MgO Ceramics',
  // Factory production
  'ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ·Ğ°Ğ²Ğ¾Ğ´Ğ¾Ğ²': 'Factory Production',
  'ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ²Ğ¾Ğ´ (Bootstrap)': 'First Factory (Bootstrap)',
  'ĞŸĞ»Ğ°Ğ²ĞºĞ°': 'Melting',
  'Ğ›Ğ¸Ñ‚ÑŒĞµ (ĞœĞĞ›Ğ—)': 'Casting (CCM)',
  'ĞŸÑ€Ğ¾ĞºĞ°Ñ‚': 'Rolling',
  '3D-Ğ¿ĞµÑ‡Ğ°Ñ‚ÑŒ (WAAM)': '3D Printing (WAAM)',
  'Ğ¡Ğ±Ğ¾Ñ€ĞºĞ°': 'Assembly',
  'ĞšÑƒĞ¿Ğ¾Ğ»Ğ°': 'Domes',
  'ĞĞ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ': 'Equipment',
  'Ğ¡Ğ°Ğ¼Ğ¾Ñ€ĞµĞ¿Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ': 'Self-Replication',
  // Mass drivers
  'ĞœĞ°ÑÑ-Ğ´Ñ€Ğ°Ğ¹Ğ²ĞµÑ€Ñ‹': 'Mass Drivers',
  'ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ ĞœĞ”': 'MD Production',
  'Ğ¢ĞµĞ¾Ñ€Ğ¸Ñ Ğ¸ ĞšĞŸĞ”': 'Theory & Efficiency',
  'ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ': 'Scaling',
  'Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ ĞœĞ”': 'MD Components',
  'Ğ ĞµĞ»ÑŒÑÑ‹': 'Rails',
  'ĞšĞ°Ñ‚ÑƒÑˆĞºĞ¸': 'Coils',
  'ĞšĞ°Ñ€ĞºĞ°Ñ': 'Frame',
  'Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° ĞœĞ”': 'MD Assembly',
  'Ğ¢Ñ€ĞµĞº': 'Track',
  'Ğ­Ğ»ĞµĞºÑ‚Ñ€Ğ¾Ğ½Ğ¸ĞºĞ°': 'Electronics',
  'Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ': 'Testing',
  // Robots
  'ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¾Ğ²': 'Robot Production',
  'Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹': 'Components',
  'Ğ Ğ°Ğ¼Ñ‹': 'Frames',
  'Ğ‘Ğ°Ñ‚Ğ°Ñ€ĞµĞ¸ (NaS)': 'Batteries (NaS)',
  'ĞĞºÑ‚ÑƒĞ°Ñ‚Ğ¾Ñ€Ñ‹': 'Actuators',
  'Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¾Ğ²': 'Robot Assembly',
  'ĞšÑ€Ğ°Ğ±-Ğœ': 'Crab-M',
  'ĞšĞµĞ½Ñ‚Ğ°Ğ²Ñ€-Ğœ': 'Centaur-M',
  'ĞšÑ€Ğ¾Ñ‚-Ğœ': 'Mole-M',
  // Reference
  'Ğ“Ğ»Ğ¾ÑÑĞ°Ñ€Ğ¸Ğ¹ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ¾Ğ²': 'Glossary',
  'Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ¸ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸': 'Technologies & Sources',
  'Ğ¤Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ĞºĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹': 'Physical Constants',
  'ĞĞ¾Ğ¼ĞµĞ½ĞºĞ»Ğ°Ñ‚ÑƒÑ€Ğ°': 'Nomenclature',
  'Ğ Ğ¸ÑĞºĞ¸ Ğ¸ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°': 'Risks & Limitations'
};

function getBasePath() {
  const match = window.location.pathname.match(/^(.*?)\/(ru|en)\//);
  return match ? match[1] : '';
}

function getCurrentLang() {
  const basePath = getBasePath();
  const path = window.location.pathname;
  const escaped = basePath.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
  const pattern = new RegExp(`^${escaped}/(ru|en)/`);
  const match = path.match(pattern);
  return match ? match[1] : 'ru';
}

function switchLanguage(targetLang) {
  const basePath = getBasePath();
  const path = window.location.pathname;
  const currentLang = getCurrentLang();
  if (currentLang === targetLang) return;

  sessionStorage.setItem('scrollY', window.scrollY);

  const escaped = basePath.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
  const langPattern = new RegExp(`^(${escaped})/(ru|en)/`);
  let newPath = path.replace(langPattern, `$1/${targetLang}/`);

  // Root page handling
  if (path === basePath + '/' || path === basePath + '/index.html' || path === basePath) {
    newPath = `${basePath}/${targetLang}/`;
  }

  // Fallback Ğ´Ğ»Ñ ĞºĞ½Ğ¸Ğ³Ğ¸ (Ğ³Ğ»Ğ°Ğ²Ñ‹ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ²ĞµĞ´ĞµĞ½Ñ‹ Ğ½Ğ° EN)
  if (newPath.includes('/book/') && !newPath.endsWith('/book/') && !newPath.endsWith('/book/index.html')) {
    newPath = `${basePath}/${targetLang}/book/`;
  }

  window.location.href = newPath;
}

window.addEventListener('load', function() {
  const savedY = sessionStorage.getItem('scrollY');
  if (savedY) { window.scrollTo(0, parseInt(savedY)); sessionStorage.removeItem('scrollY'); }
});

document.addEventListener('DOMContentLoaded', function() {
  // Handle dropdown items for language switching
  document.querySelectorAll('.dropdown-item').forEach(el => {
    const text = el.textContent;
    for (const [langCode, flag] of Object.entries(LANG_FLAGS)) {
      if (text.includes(flag)) {
        el.addEventListener('click', function(e) { e.preventDefault(); switchLanguage(langCode); });
        if (langCode === getCurrentLang()) el.classList.add('active');
        break;
      }
    }
  });

  // Update navbar language indicator from ğŸŒ to current language label
  const currentLang = getCurrentLang();
  const currentLabel = LANG_LABELS[currentLang] || 'ğŸŒ';
  document.querySelectorAll('.navbar-nav .dropdown-toggle, .navbar-nav .nav-link').forEach(link => {
    if (link.textContent.trim() === 'ğŸŒ') {
      link.textContent = currentLabel;
    }
  });

  // Translate navigation labels for EN pages
  if (currentLang === 'en') {
    // Translate navbar items
    document.querySelectorAll('.navbar-nav .nav-link').forEach(el => {
      const text = el.textContent.trim();
      if (TRANSLATIONS[text]) {
        el.textContent = TRANSLATIONS[text];
      }
    });
    // Translate sidebar menu text
    document.querySelectorAll('.menu-text').forEach(el => {
      const text = el.textContent.trim();
      if (TRANSLATIONS[text]) {
        el.textContent = TRANSLATIONS[text];
      }
    });
    // Translate sidebar title
    document.querySelectorAll('.sidebar-title').forEach(el => {
      const text = el.textContent.trim();
      if (TRANSLATIONS[text]) {
        el.textContent = TRANSLATIONS[text];
      }
    });
  }

  // Rewrite ALL links (navbar + sidebar + content) to match current language
  document.querySelectorAll('a[href*="/ru/"]').forEach(link => {
    const href = link.getAttribute('href');
    if (href) {
      link.setAttribute('href', href.replace('/ru/', `/${currentLang}/`));
    }
  });

  // Fix sidebar active state for EN pages (after link rewriting)
  if (currentLang === 'en') {
    const currentPath = window.location.pathname;
    const sidebarLinks = document.querySelectorAll(
      '#quarto-sidebar .sidebar-item-text.sidebar-link[href]'
    );
    let activeLink = null;
    for (const link of sidebarLinks) {
      if (new URL(link.href).pathname === currentPath) {
        activeLink = link;
        break;
      }
    }
    if (activeLink) {
      activeLink.classList.add('active');
      let section = activeLink.closest('ul.sidebar-section');
      while (section) {
        section.classList.add('show');
        const item = section.closest('li.sidebar-item-section');
        if (item) {
          item.querySelectorAll(
            ':scope > .sidebar-item-container > [data-bs-toggle="collapse"]'
          ).forEach(t => {
            t.classList.remove('collapsed');
            t.setAttribute('aria-expanded', 'true');
          });
        }
        section = item ? item.parentElement.closest('ul.sidebar-section') : null;
      }
    }
  }

  // Add hreflang alternate links for SEO
  const basePath = getBasePath();
  const path = window.location.pathname;
  const otherLang = currentLang === 'ru' ? 'en' : 'ru';
  const escaped = basePath.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
  const langPattern = new RegExp(`^(${escaped})/(ru|en)/`);
  const altPath = path.replace(langPattern, `$1/${otherLang}/`);
  const siteUrl = 'https://DmitryNasikanov.github.io/infinite-energy';

  const linkRu = document.createElement('link');
  linkRu.rel = 'alternate';
  linkRu.hreflang = 'ru';
  linkRu.href = siteUrl + (currentLang === 'ru' ? path : altPath);
  document.head.appendChild(linkRu);

  const linkEn = document.createElement('link');
  linkEn.rel = 'alternate';
  linkEn.hreflang = 'en';
  linkEn.href = siteUrl + (currentLang === 'en' ? path : altPath);
  document.head.appendChild(linkEn);

});
</script>


<link rel="stylesheet" href="../../../ru/science/data/widgets.css">
<meta property="og:title" content="ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ“ĞµĞ»Ğ¸Ğ¾Ñ">
<meta property="og:description" content="Engineering roadmap for a Dyson Swarm built from Mercury â€” 1.1 billion mirrors, 21 petawatts to Earth. Hard sci-fi novel + complete engineering appendix.">
<meta property="og:image" content="https://DmitryNasikanov.github.io/infinite-energy/en/book/04-the-switch/images/og-preview.png">
<meta property="og:site_name" content="ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ“ĞµĞ»Ğ¸Ğ¾Ñ">
<meta name="twitter:title" content="ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ“ĞµĞ»Ğ¸Ğ¾Ñ">
<meta name="twitter:description" content="Engineering roadmap for a Dyson Swarm built from Mercury â€” 1.1 billion mirrors, 21 petawatts to Earth. Hard sci-fi novel + complete engineering appendix.">
<meta name="twitter:image" content="https://DmitryNasikanov.github.io/infinite-energy/en/book/04-the-switch/images/og-preview.png">
<meta name="twitter:creator" content="@DmitryNas">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../ru/index.html"> 
<span class="menu-text">ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ“ĞµĞ»Ğ¸Ğ¾Ñ</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../ru/book/index.html"> 
<span class="menu-text">ĞšĞ½Ğ¸Ğ³Ğ°</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../ru/science/index.html"> 
<span class="menu-text">ĞĞ°ÑƒĞºĞ°</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../ru/about.html"> 
<span class="menu-text">ĞĞ± Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğµ</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DmitryNasikanov/infinite-energy"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">ğŸŒ</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-">    
        <li>
    <a class="dropdown-item" href="../../../ru/index.html">
 <span class="dropdown-text">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../en/index.html">
 <span class="dropdown-text">ğŸ‡¬ğŸ‡§ English</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-switch" id="toc-the-switch" class="nav-link active" data-scroll-target="#the-switch">The Switch</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="the-switch" class="level1">
<h1>The Switch</h1>
<p><strong>Moscow. Presidential Administration. Three days later.</strong></p>
<p>The pass was checked four timesâ€”at the entrance, at the main doors, before the elevator, and once more at the conference room doors. Pavel was accustomed to bureaucracy, but here he sensed a different breed: not ostentatious strictness, but a cold, well-oiled machine that makes no mistakes and forgives none.</p>
<p>The conference room turned out to be unexpectedly modestâ€”a long table of dark wood, leather chairs, a portrait of the president on the wall. No pomp, no golden eagles. A workplace for people who have nothing to prove to anyone.</p>
<p>Pavel arrived first. He chose a seat closer to the cornerâ€”a habit from corporate days: see everyone without attracting attention. He laid out a folder of materials before him, though he knew every number by heart. Three sleepless nights hadnâ€™t been easy, but the result was worth it.</p>
<p>Egor Mikhailovich entered nextâ€”nodded to Pavel, sat opposite. His face impenetrable, as always. Pavel had known him for seven years, and in all that time had never once seen Kuzmichev reveal his emotions prematurely.</p>
<p>Then the others appearedâ€”one by one, at intervals of several minutes, as if on schedule. General Bulatovâ€”bulky, in a civilian suit that fit him like a saddle on a cow. Sharp, assessing gaze; Pavel felt himself scanned and filed under â€œpotential threatâ€”low.â€ Dronov from Rosatomâ€”gray-haired, trim, with the bearing of someone whoâ€™s spent their whole life working with things capable of destroying cities. Yartsev from Roscosmosâ€”younger than the rest, energetic, with the quick eyes of an engineer. Serov, the vice premierâ€”round-faced, smiling, but the smile didnâ€™t reach his eyes.</p>
<p>Kondrashov entered last. Pavel had only seen him in photographsâ€”short, lean, with close-cropped gray hair and a face that didnâ€™t stick in memory. A shadow-man, a function-man. In the nineties heâ€™d briefly headed the government, then led Rosatom, and from there went to the Administration. They said he oversaw all strategic projectsâ€”the ones newspapers donâ€™t write about. Kondrashov sat at the head of the table, placed a thin folder before him, and swept everyone with his gazeâ€”quick, precise, like a laser sight.</p>
<p>â€œLetâ€™s begin,â€ he said quietly, and the room immediately fell silent. â€œEgor Mikhailovich, you coordinate the work of Vector group. Report.â€</p>
<p>Kuzmichev nodded without standing. â€œThree days ago the group completed preliminary analysis of Project Helios. Technical audit, financial model, risk assessment.â€ He turned to Pavel. â€œPavel Andreevich, please.â€</p>
<p>Pavel stood, though here it wasnâ€™t requiredâ€”force of habit: when you speak standing, your voice sounds more confident. â€œColleagues, Iâ€™ll try to be brief.â€ He opened the folder. â€œProject Heliosâ€”an automated factory on Mercury that operates without human participation and produces a system of orbital mirrors for transmitting solar energy to Earth. Author of the conceptâ€”Valery Petrovich Goncharenko, director of the Institute of Space Problems. We checked his calculations and conducted our own modeling. Result: the project is technically feasible. The physics works. Timelineâ€”ten to fifteen years until the first industrial kilowatt.â€</p>
<p>He let the words settle. â€œBudget. Here Iâ€™ll be honest: we donâ€™t know exactly. Nobody knowsâ€”a project of this scale has no precedent. But we built a model, and Iâ€™ll show you how itâ€™s structured.â€ Pavel extracted several sheets from the folder and laid them in a fan on the table. â€œHereâ€™s the expense structure. First phaseâ€”Earth. R&amp;D, artificial intelligence development, test site. Eighty billion dollars, sixteen percent.â€</p>
<p>â€œTest site where?â€ Serov clarified.</p>
<p>â€œIn China. Cheaper and faster there.â€ Pavel ran his finger down the table. â€œSecond phaseâ€”Moon. Test site, working out technologies in space conditions. Thirty billion, six percent. Then the main partâ€”Mercury. Factories, rockets, launches. Three hundred forty billion, almost seventy percent. And finally, ground infrastructure for receiving energy. Fifty billion, ten percent.â€</p>
<p>â€œTotal?â€ Kondrashov asked.</p>
<p>â€œIn the base scenarioâ€”four hundred to six hundred billion.â€ Pavel held the pause. â€œBut thatâ€™s assuming everything goes according to plan. And it never does.â€</p>
<p>Serov whistledâ€”quietly, but loud enough for everyone to hear. â€œHalf a trillion. Thatâ€™s two annual state budgets.â€ Bulatov frowned, writing something in a notebook. Dronov clasped his hands on his chestâ€”the pose of someone calculating the scale of a task. Yartsev exchanged glances with Kondrashov, but the latter remained impassive.</p>
<p>â€œThatâ€™s six percent of what the world spends on energy per year,â€ Pavel countered. â€œBut let me finish about the risks.â€ He turned the page. â€œThe main uncertaintyâ€”not one technology, but three. And they must work together. First: the robots themselves. Machines capable of operating in vacuum, at temperatures from minus one hundred eighty to plus four hundred thirty degrees. No one has ever built such equipment serially. Second: artificial intelligence. Signal to Mercury takes four to twenty minutes one wayâ€”real-time control from Earth is impossible. Robots must make their own decisions, repair each other, react to emergency situations themselves. And third: production. A factory on another planet must work as we planned. Melt metal with sunlight, roll steel, print parts, assemble new robots. Each stageâ€”a separate engineering task. And together they must work like clockwork.â€</p>
<p>â€œSeparately, each of these tasks is solvable. We know how to build robots. AI is developing. Factories work. But for all this to come together on another planet, without peopleâ€”no oneâ€™s done that yet. Therefore we have three scenarios. Optimistic: everything works, international cooperation goes smoothly, AI reaches the required level in five years. Four hundred billion. Base: moderate delays, refinements, political complications. Six hundred billion. And conservativeâ€”when everything goes wrong. AI requires ten years instead of six, technical problems at every stage.â€</p>
<p>â€œAnd how much in that case?â€ Bulatov asked.</p>
<p>â€œClose to a trillion,â€ Pavel answered. â€œBut thatâ€™s the worst case. And even a trillion isnâ€™t catastrophic. Whatâ€™s important to understand: a trillion is if we calculate by American prices. And Americans know how to spend money. The Apollo program cost two hundred eighty billion in current pricesâ€”twelve people on the Moon. ISSâ€”one hundred fifty billion over twenty-six years. One station. They have bureaucracy, contractor monopoliesâ€”Boeing and Lockheed charge whatever they want, and the state pays all expenses plus profit.â€</p>
<p>Pavel paused, letting the numbers settle.</p>
<p>â€œBut weâ€™re not Americans. China builds space stations three times cheaper. India launches Mars missions for seventy-five millionâ€”less than the budget of a Hollywood movie about space. We and Rosatom know how to work efficiently. If the project goes through us, China, and Indiaâ€”the real figure is closer to four to six hundred billion. And if we bring in the DPRK for Earth prototype productionâ€”they have cheap labor, iron discipline, and decent technologyâ€”we can save another twenty percent.â€</p>
<p>Pavel paused.</p>
<p>â€œFor this money we get energy for the entire planet. Forever. Not for twenty years, not for fiftyâ€”forever. And itâ€™s not just about energy. Itâ€™s about what you can do with it.â€</p>
<p>Pavel turned another sheet. â€œWater desalinationâ€”oceans become an infinite source of fresh water. Vertical farmsâ€”food grows anywhere on the planet, year-round. Waste processingâ€”when thereâ€™s enough energy, you can break down anything: plastic, electronics, radioactive waste. And most importantlyâ€”carbon dioxide sequestration. We can reverse climate change, literally suck CO2 out of the atmosphere.â€</p>
<p>Serov slowly shook his head. â€œSounds like utopia.â€</p>
<p>â€œMaybe it is utopia,â€ Pavel agreed. â€œBut all these technologies already exist today. The only thing they lack is cheap energy. Weâ€™ll provide it.â€ He turned another page. â€œAnd thatâ€™s just Earth. Mass drivers on Mercuryâ€”electromagnetic catapults that launch ready-made mirrors into solar orbit without rocket fuel. Cost of deliveryâ€”pennies per ton. The more mirrors in the swarm, the more energy.â€ Pavel surveyed those gathered. â€œBut thatâ€™s not even the main thing. The main thingâ€”the end of scarcity. Today all world economics is a zero-sum game. For someone to win, someone must lose. Hence wars, sanctions, trade conflicts. But when thereâ€™s enough energy for everyone, when space resources are open for extractionâ€”the game changes. You can think about development, not survival. You can build, not take away.â€</p>
<p>The silence stretchedâ€”Bulatov leaned forward, showing genuine interest for the first time. â€œHow many mirrors in the system?â€</p>
<p>Bulatov had already asked Goncharenko this question, but Pavel was ready. â€œAt full capacityâ€”about one hundred million. Total area around one hundred thousand square kilometers.â€</p>
<p>â€œAnd each can be aimed individually?â€ the general clarified.</p>
<p>â€œYes. Thatâ€™s necessary for transmitting energy to receivers.â€ Pavel saw where Bulatov was heading and waited.</p>
<p>The general was in no hurry. He slowly drummed his fingers on the table, then askedâ€”almost casually: â€œWhat if you aim them not at a receiver?â€</p>
<p>Everyone in the room understood what he was talking about, but no one said it aloud. One hundred thousand square kilometers of mirrorsâ€”thatâ€™s focused sunlight with a power of tens of terawatts. Direct even part of this energy at a cityâ€”and the city will cease to exist. No missiles, no warheads, no warning. Just a beam from the sky.</p>
<p>The silence stretched. Pavel heard how somewhere beyond the wall a clock tickedâ€”measured, merciless. Dronov clasped his fingers on the tableâ€”the hands of someone whoâ€™d spent his whole life working with things capable of destroying cities and knew the price of every button. Kondrashov didnâ€™t move, but his gaze became harderâ€”if before heâ€™d been evaluating the project, now he was evaluating the people in the room. Those heâ€™d trust with such a weapon.</p>
<p>â€œWe spent fifty years building a world on a simple idea,â€ Bulatov said. â€œNo one will push the button because everyone will die. Mutually assured destruction. It worked.â€ He passed his eyes over the faces. â€œAnd now you want to move the switch into space. A system capable of nullifying any retaliation scenario. Intercept missiles at launchâ€”with a hundred thousand small mirrors focused on each warhead. Destroy launch silos before they open.â€ Bulatov shook his head. â€œThe Pentagon isnâ€™t full of idiots. Theyâ€™ll see this before we lay the first stone. And then what?â€</p>
<p>Kondrashov listened silently, not changing his expression. â€œRuslan Ilyich is right,â€ Dronov said. â€œThis isnâ€™t just an energy project. This is a paradigm shift. Whoever controls such a systemâ€”controls the planet.â€</p>
<p>â€œThatâ€™s precisely why we canâ€™t do this alone,â€ Pavel said. â€œAllow me to show the political model.â€ Kondrashov nodded briefly, and Pavel extracted several sheets from the folder. â€œThe â€˜Snowballâ€™ strategy. We start with a small circle: countries we trust and who depend on us. Belarus, DPRK, possibly Iran. Then we bring in Indiaâ€”they need energy like air, they have one and a half billion people and a growing economy. When this bloc forms, all of BRICS will follow. China, Brazil, South Africa, Arab countries. And when half the worldâ€™s population is in the project, the West will have to negotiate on our terms.â€</p>
<p>â€œOr war will begin,â€ Bulatov said.</p>
<p>â€œThatâ€™s why sequence is important,â€ Pavel said. â€œFirst the small circle, then India, thenâ€”when the snowball gains massâ€”China will join on its own. They wonâ€™t be able to stay on the sidelines of a project involving half the world.â€</p>
<p>Serov frowned. â€œWhat if China wants to lead the project?â€</p>
<p>â€œThey wonâ€™t want to,â€ Pavel said. â€œMore precisely, theyâ€™ll want to but wonâ€™t be able to. Technologies are ours. Nuclear power plantsâ€”Rosatom is a generation ahead of the Chinese. Space operations experienceâ€”we have it. And production capacityâ€”yes, they have it. But production without technology is just a factory. Weâ€™ll need each other.â€</p>
<p>Bulatov chuckled. â€œWhat about the Americans?â€</p>
<p>â€œAmericans will be nervous in any case. But a coalition that starts with the DPRK and Iran looks to them like a club of losers. Theyâ€™ll laughâ€”until they realize this snowball has already covered them.â€</p>
<p>Kondrashov raised his handâ€”a barely noticeable gesture, but everyone fell silent. The atmosphere changed: political debates ended, resource verification began. He swept those present with his gazeâ€”quickly, methodically, like a surgeon checking instruments before an operation. â€œIgor Sergeevich,â€ he addressed Yartsev. â€œCarriers?â€</p>
<p>Yartsev straightened. â€œCarriers are the bottleneck. Angara takes twenty tons to low orbit, to Mercuryâ€”significantly less. But weâ€™re working on Yeniseiâ€”a super-heavy carrier. If we get financing, first launch in four to five years. Besides, the Chinese are building their Long March 9. Togetherâ€”a thousand tons per year to lunar orbit. Thatâ€™s enough to start. And if the Americans join with their Starshipâ€”that will greatly simplify delivery and logistics.â€</p>
<p>Kondrashov turned to Dronov. â€œViktor Alekseevich, is Rosatom ready?â€</p>
<p>Dronov inclined his head. â€œTEM Zeusâ€”transport-energy module of megawatt classâ€”has been in development for five years. First flight sampleâ€”in three years. Nuclear reactors for lunar baseâ€”a matter of adapting existing projects. Difficult, but doable.â€</p>
<p>Kondrashov addressed Serov. â€œIndustry?â€</p>
<p>Serov spread his hands. â€œAndrei Nikolaevich, you know our capabilities. If thereâ€™s a political decisionâ€”weâ€™ll deploy any capacity. A question of priorities and resources.â€</p>
<p>Kondrashov silently looked at the table before him. Everyone waited. â€œRuslan Ilyich,â€ he said finally. â€œYour terms.â€</p>
<p>Bulatov wasnâ€™t surprisedâ€”he was ready. â€œFirst: joint control. No unilateral decisions on military application of the system. Any retargetingâ€”only by agreement of all participants.â€ Pavel wrote it down. â€œSecond: physical protection. Command centersâ€”on the territory of all participating countries. Access codes divided. No single country can activate the system alone. Yes, this will slow responseâ€”but thatâ€™s the point. The system must not be used for first strike. Only for deterrence. Third: openness. As soon as the project is operational, we announce it publicly. Invite international observers. Make secret use impossible.â€</p>
<p>â€œAccepted,â€ Kondrashov said. â€œWhat else?â€</p>
<p>â€œFourth.â€ Bulatov looked directly at Kondrashov. â€œThe man. Goncharenko. Heâ€™s an idealist. Thatâ€™s good for a scientist, but dangerous for a project of this scale. We need someone who will keep him in check.â€</p>
<p>â€œWe have such a person,â€ Kuzmichev said, and Pavel felt gazes converge on him.</p>
<p>Bulatov didnâ€™t look at Pavel. He looked at Kuzmichevâ€”with a long, assessing gaze, the way you look at an opponentâ€™s card before making a decision. The gaze lasted perhaps three seconds, but to Pavel it seemedâ€”an eternity.</p>
<p>Then the general looked away and, without changing his expression, extracted from his inner pocket a worn leather notebook. Opened it, wrote somethingâ€”briefly, one word. The movement was calm, routine, but Pavel, sitting slightly to the side, managed to notice: the general didnâ€™t write down anything from the discussion. He wrote something else.</p>
<p>What exactlyâ€”couldnâ€™t make out. But somehow this moment imprinted in his memory: how Bulatov closed the notebook, put it in his pocket, and how his face remained absolutely impenetrable.</p>
<p>Pavel would later ask himself many times why the general wrote exactly that. Then it seemed like an oddityâ€”one of many that evening. Laterâ€”a premonition.</p>
<p>Kondrashov silently looked at the table before him. Seconds stretchedâ€”Pavel counted heartbeats, trying to understand what decision was now being born in this manâ€™s head. Bulatov froze, hands on the table. Serov leaned back but didnâ€™t take his eyes off Kondrashov. Even Kuzmichev, always imperturbable, leaned forward slightly.</p>
<p>Then Kondrashov pronouncedâ€”quietly, but so that each word printed itself in the air: â€œâ€˜Snowball.â€™ For now we stick to this scenario. But we need to consult with the Foreign Ministry and the Institute of Strategic Studiesâ€”maybe there are other options we havenâ€™t thought of.â€</p>
<p>Pavel exhaledâ€”hadnâ€™t noticed heâ€™d held his breath. Decision made. Project launched. Point of no return passed.</p>
<p>He turned to Kuzmichev.</p>
<p>â€œEgor Mikhailovich, prepare the team. A month for detailed development. Roadmap, risks, points of no return. And a technically developed projectâ€”factories, robots, delivery, flights, first stage with Earth base and Earth prototype. Then weâ€™ll meet again.â€</p>
<p>Kuzmichev nodded. â€œDo we brief Goncharenko? Does he continue working?â€</p>
<p>â€œOf course,â€ Kondrashov said. â€œTell him today. And explain that this is no longer his project. This is a state project.â€ He stood, and everyone rose after him. â€œQuestions?â€</p>
<p>There were no questions.</p>
<p>Pavel left the building when it had already grown dark. Frosty air struck his face, burned his lungsâ€”after the stuffy conference room it seemed he could breathe again. He stopped on the steps, letting his body recover. Four hours of continuous tension had left their mark: his hands trembled slightly, dull pain pulsed in his temples, his mouth was dry.</p>
<p>But at the same timeâ€”a strange lightness. Like after an exam, when youâ€™ve given it your all and know you did everything you could.</p>
<p>Decision made. Project launched.</p>
<p>The guard at the entrance nodded to himâ€”politely, but without a smile. Pavel descended the steps to the parking lot where his car waited. Moscow hummed aroundâ€”cars, lights, hurrying people. An ordinary winter evening in the capital. None of them knew that an hour ago in this building a decision had been made that would change their lives.</p>
<p>â€œWell, Pasha? Ready to change the world?â€</p>
<p>Egor Mikhailovich materialized nearby, as always unexpectedlyâ€”Pavel hadnâ€™t even heard footsteps. Kuzmichev was lighting up, shielding the lighter from the wind.</p>
<p>Pavel raised his gaze to the sky. Low clouds, backlit by city lights, covered Moscow with a dense blanketâ€”through them not a single star was visible. And somewhere there, beyond those clouds, beyond the atmosphere, in the black emptiness of space, what theyâ€™d just approved would be built.</p>
<p>â€œMikhailych, I thought heâ€™d refuse,â€ Pavel admitted. â€œToo ambitious. Too risky.â€</p>
<p>Kuzmichev smirked. â€œAndrei Nikolaevich isnâ€™t afraid of scale. Heâ€™s afraid of missed opportunities.â€</p>
<p>â€œAnd â€˜Snowballâ€™ isnâ€™t obvious?â€</p>
<p>â€œâ€˜Snowballâ€™ takes time.â€ Kuzmichev took out a cigarette, turned it in his fingers, but didnâ€™t light it. â€œDPRK, Iran, then India, then the restâ€¦ Each stepâ€”negotiations, guarantees, checks. But in the end we have a coalition that wonâ€™t go anywhere. That without usâ€”is nothing.â€</p>
<p>Pavel didnâ€™t answer immediately. â€œWhat if we donâ€™t make it in time? Americans understand, start their own programâ€¦â€</p>
<p>â€œMaybe they will.â€ Kuzmichev finally put the cigarette back in the pack. â€œBut thatâ€™s not our concern anymore. Our concernâ€”so that in a month a roadmap lies on the table. All details, all calculations. And thenâ€”people smarter than us will decide.â€ He clapped Pavel on the shoulder and walked to his car.</p>
<p>Pavel got in his own car but didnâ€™t start the engine. Turned on the heat, took out his phone. His fingers still trembled slightlyâ€”adrenaline was in no hurry to leave. Dialed a familiar number.</p>
<p>Goncharenko answered after the first ring. Didnâ€™t even let the phone ring a second timeâ€”heâ€™d been waiting, then.</p>
<p>â€œValery Petrovich,â€ Pavel took a breath, selecting words. â€œWe got the green light.â€</p>
<p>Pause. On the line it was quietâ€”only distant noises of the institute, where Goncharenko had surely stayed late. Pavel imagined him frozen, holding the phone, trying to comprehend that this was real. That his project was no longer a dream in a folder, but a state program.</p>
<p>â€œA month for development,â€ Pavel continued. â€œWe need to prepare materials for related departments. Detailed specifications so we can distribute tasks across all directions. Factories, robots, carriers, Earth test site. Everything we talked aboutâ€”but now not concepts, but technical specifications.â€</p>
<p>Again silence. But now it held something differentâ€”not confusion, but concentration. Goncharenko was already thinking, planning, laying out tasks in his head.</p>
<p>Then he saidâ€”calmly, but so that Pavel heard something new in his voice. Not excitement, not triumph. The calm, iron determination of someone whoâ€™d finally received a chance to realize the work of his life:</p>
<p>â€œUnderstood. We begin.â€</p>
<p>Pavel hung up, placed the phone on the dashboard. Started the engine. Turned on the wipersâ€”snow had begun to fall, light, almost imperceptible. Pulled out onto Starokonyushenny Lane, merged with the flow of cars. Moscow lived an ordinary winter evening: people drove home from work, hurried on errands, not knowing that an hour ago, several kilometers from them, a decision had been made that would change everything.</p>
<p>Pavel drove the car, thinking about what lay aheadâ€”years of work, endless approvals, technical problems, political games. So much could go wrong.</p>
<p>But the project was launched. And stopping it was already impossible.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/DmitryNasikanov\.github\.io\/infinite-energy");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>