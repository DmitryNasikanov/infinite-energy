---
title: "3.1.1 Glass Fiber Line"
sidebar: science
execute:
  echo: false
---

```{ojs}
//| output: false

// Load data from JSON
dataScript = FileAttachment("../../../data/db/data.json").json()

// Materials available on Mercury

mercuryMaterials = new Set(
  dataScript.planetMaterials
    .filter(pm => pm.planet_id === "mercury")
    .map(pm => pm.material_id)
)

// Dictionaries for quick lookup
materialsById = new Map(dataScript.materials.map(m => [m.id, m]))
unitsById = new Map(dataScript.units.map(u => [u.id, u]))
planetsById = new Map(dataScript.planets.map(p => [p.id, p]))

// Function to get component materials
function getComponentMaterials(componentId) {
  return dataScript.unitMaterials
    .filter(um => um.unit_id === componentId)
    .map(um => {
      const material = materialsById.get(um.material_id);
      return {
        symbol: material?.symbol,
        name: material?.name || um.material_id,
        fraction_pct: um.fraction_pct,
        isLocal: mercuryMaterials.has(um.material_id)
      };
    });
}

// Function to display unit widget
function unitWidget(unitId) {
  const unit = unitsById.get(unitId);
  if (!unit) return html`<div class="db-widget">Unit ${unitId} not found</div>`;

  const planet = planetsById.get(unit.production_planet_id);

  // Base unit materials
  const materials = dataScript.unitMaterials
    .filter(um => um.unit_id === unitId)
    .map(um => {
      const material = materialsById.get(um.material_id);
      const isLocal = mercuryMaterials.has(um.material_id);
      const massKg = unit.mass_kg ? (unit.mass_kg * um.fraction_pct / 100).toFixed(0) : null;
      return { ...um, material, isLocal, massKg };
    });

  // Components (subassemblies)
  const components = dataScript.unitComponents
    .filter(uc => uc.assembly_id === unitId)
    .map(uc => {
      const component = unitsById.get(uc.component_id);
      const totalMassKg = component?.mass_kg ? (component.mass_kg * uc.quantity) : null;
      const isLocal = component?.production_planet_id === unit.production_planet_id;
      const componentMaterials = getComponentMaterials(uc.component_id);

      return {
        id: uc.component_id,
        name: component?.name || uc.component_id,
        quantity: uc.quantity,
        massKg: totalMassKg,
        isLocal,
        materials: componentMaterials
      };
    });

  // Total calculated ONLY from materials (not components!)
  const localPct = materials.filter(m => m.isLocal).reduce((sum, m) => sum + m.fraction_pct, 0);
  const importPct = materials.filter(m => !m.isLocal).reduce((sum, m) => sum + m.fraction_pct, 0);
  const hasCriticalImports = components.some(c => !c.isLocal);

  // Component table rows
  const componentRows = components.map(c => html`
    <tr class="component-row">
      <td>
        <strong>${c.name}</strong>${c.quantity > 1 ? html` x${c.quantity}` : ''}
        <div class="component-materials">
          ${c.materials.map(m => html`<span class="${m.isLocal ? 'local' : 'import'}">${m.symbol || m.name} ${m.fraction_pct}%</span>`)}
        </div>
      </td>
      <td>${c.massKg ? c.massKg.toFixed(0) : '-'} kg</td>
      <td class="${c.isLocal ? 'local' : 'import'}">${c.isLocal ? 'local' : 'import'}</td>
    </tr>
  `);

  // Material table rows
  const materialRows = materials.map(m => html`
    <tr>
      <td>
        ${m.material?.symbol ? html`<strong>${m.material.symbol}</strong> ` : ''}
        ${m.material?.name || m.material_id}
      </td>
      <td>${m.fraction_pct}%</td>
      <td>${m.massKg || '-'} kg</td>
      <td class="${m.isLocal ? 'local' : 'import'}">${m.isLocal ? 'local' : 'import'}</td>
    </tr>
  `);

  return html`
    <div class="db-widget">
      <h4>${unit.name} <span style="color: #6c757d; font-weight: normal;">(${unit.id})</span></h4>
      <div class="meta">
        ${unit.mass_kg ? html`<strong>${unit.mass_kg.toLocaleString()}</strong> kg` : ''}
        ${unit.power_kw ? html` | <strong>${unit.power_kw.toLocaleString()}</strong> kW` : ''}
        ${planet ? html` | Production: ${planet.name}` : ''}
      </div>

      ${components.length > 0 ? html`
        <div class="section-header">Components</div>
        <table class="components-table">
          <thead><tr><th>Component</th><th>Mass</th><th>Source</th></tr></thead>
          <tbody>${componentRows}</tbody>
        </table>
      ` : ''}

      ${materials.length > 0 ? html`
        <div class="section-header">Materials</div>
        <table class="materials-table">
          <thead><tr><th>Material</th><th>%</th><th>Mass</th><th>Source</th></tr></thead>
          <tbody>${materialRows}</tbody>
        </table>
        <div class="summary">
          Total: <span class="local-pct">${localPct.toFixed(0)}% local</span> |
          <span class="import-pct">${importPct.toFixed(0)}% import</span>
          ${hasCriticalImports ? html`<br/><strong>Contains imported components</strong>` : ''}
        </div>
      ` : ''}

      <div class="link">
        <a href="data/nomenclature.html?unit=${unitId}">Details</a>
      </div>
    </div>
  `;
}
```

## Overview

| Parameter | Value |
|----------|----------|
| Input | Silicates (~5% of non-magnetic fraction) |
| Output | Glass fiber |
| Throughput | ~30 t/day |
| Energy consumption | Solar furnace (thermal) |

[Back to overview](overview.qmd)

---

## Purpose of the Line

Part of the silicate stream (~5%) goes to glass fiber production directly, bypassing MRE electrolysis.

**Why a separate line:**

- Fiber production requires silicates in their original form (oxides SiO2, CaO, Al2O3)
- In MRE, oxides are decomposed by electrolysis into metals + O2
- If everything were electrolyzed, no silicates would remain for fiber production

```{mermaid}
flowchart LR
    subgraph INPUT["NON-MAGNETIC FRACTION"]
        NM[/"Silicates<br/>564 t/day"/]
    end

    NM --> |"~5%"| GF["Glass fiber line<br/>(solar furnace)"]
    NM --> |"~95%"| MRE["MRE electrolysis"]

    GF --> FIBER[/"Glass fiber<br/>~30 t/day"/]
    MRE --> METAL[/"Metals + O2"/]

    style GF fill:#b8e0d2
    style MRE fill:#e8a8d4
```

---

## Silicate Composition (Feedstock)

Mercury regolith silicates **already contain** the required composition for glass fiber, similar to industrial E-glass:

| Oxide | Fraction | Role in Glass |
| :--- | :--- | :--- |
| SiO2 | ~45% | Glass former |
| Al2O3 | ~15% | Strength, chemical resistance |
| CaO | ~10% | Flux (lowers melting point) |
| MgO | ~10% | Strength |
| FeO | ~5% | Impurity (gives greenish tint) |

> **Note:** On Earth, E-glass contains boron (B2O3) to lower the melting temperature. Mercury has no boron, so we melt at a higher temperature (~1400C), which is not a problem for a solar furnace.

---

## Process Diagram

```{mermaid}
flowchart TD
    subgraph MELTING["MELTING"]
        SIL[/"Silicates<br/>~30 t/day"/] --> SF["Small solar furnace<br/>1400C"]
        SF --> MELT["Molten glass"]
    end

    subgraph FIBERIZATION["FIBERIZATION"]
        MELT --> FILT["Pt-Rh bushings<br/>(import)"]
        FILT --> FIBER["Fiber 5-13 um"]
        FIBER --> DRUM["Winding drum"]
    end

    subgraph PRODUCT["PRODUCT"]
        DRUM --> BOBBIN[/"Glass fiber<br/>bobbins"/]
    end

    style MELTING fill:#fff3cd
    style FIBERIZATION fill:#d4edda
    style PRODUCT fill:#cce5ff
```

| Stage | Description | Temperature |
| :--- | :--- | :--- |
| Melting | Silicates melt in solar furnace | 1400C |
| Fiberization | Melt is forced through platinum bushings | 1200C |
| Drawing | Fiber of 5-13 um diameter is drawn by drum | - |
| Winding | Fiber is collected onto bobbins | - |

---

## Equipment

| Component | Function | Materials |
| :--- | :--- | :--- |
| Small solar furnace | Silicate melting | Al mirrors, MgO crucible (local) |
| Platinum bushings | Fiber drawing | Pt-Rh (**import**) |
| Winding drum | Bobbin collection | Fe frame, Al drum |

### Platinum Bushings (Pt-Rh) - Strategic Import

| Parameter | Value |
| :--- | :--- |
| Kit mass | 200-400 kg Pt-Rh |
| Service life | 3-5 years |
| Replacement rate | ~50-100 kg/year |
| Import type | One-time (at startup) + rare replacements |

> **Why platinum:** Pt withstands 1770C and does not react with molten glass - this is the industry standard. The alternative is tungsten (W) bushings, but they oxidize. **Pt-Rh bushings are the only critical import for this line.**

---

## Glass Fiber Applications

| Product | Criticality | Purpose | Alternative |
| :--- | :--- | :--- | :--- |
| Cable insulation | **Critical** | All factory wiring | Ceramic beads (difficult) |
| Winding insulation | **Critical** | All motors, transformers | Al2O3 ceramics (brittle) |
| Dome fabric | **High** | Al-membrane reinforcement, new factories | Metal only (heavier) |
| Thermal insulation | Medium | Equipment protection | MgO ceramics, vacuum |
| Filters | Low | Gas purification | In vacuum, dust settles by itself |

> **Conclusion:** Glass fiber is a **critical material**. Without it, factory electrics (cables, motors) and expansion (new domes) are impossible. Platinum bushings are a strategic import that must be secured.

---

## References

- **Owens Corning, Johns Manville** - major glass fiber manufacturers. Technology has been refined since the 1930s.
- **E-glass composition** - standard industrial glass fiber composition

---

## See Also

- [Regolith Processing](overview.qmd) - process overview
- [MRE Electrolysis](mre.qmd) - main metal production line
