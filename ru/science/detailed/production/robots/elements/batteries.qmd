---
title: "Производство батарей NaS"
sidebar: science
execute:
  echo: false
---

```{ojs}
//| output: false

dataScript = FileAttachment("../../../data/db/data.json").json()

mercuryProduction = new Set(
  dataScript.materialProduction
    .filter(mp => mp.planet_id === "mercury")
    .map(mp => mp.material_id)
)

materialsById = new Map(dataScript.materials.map(m => [m.id, m]))
unitsById = new Map(dataScript.units.map(u => [u.id, u]))
planetsById = new Map(dataScript.planets.map(p => [p.id, p]))

function unitWidget(unitId) {
  const unit = unitsById.get(unitId);
  if (!unit) return html`<div class="db-widget">Единица ${unitId} не найдена</div>`;

  const planet = planetsById.get(unit.production_planet_id);

  const bom = dataScript.unitMaterials
    .filter(um => um.unit_id === unitId)
    .map(um => {
      const material = materialsById.get(um.material_id);
      const isLocal = mercuryProduction.has(um.material_id);
      const massKg = unit.mass_kg ? (unit.mass_kg * um.fraction_pct / 100).toFixed(2) : null;
      return { ...um, material, isLocal, massKg };
    });

  const components = dataScript.unitComponents
    .filter(uc => uc.assembly_id === unitId)
    .map(uc => {
      const component = unitsById.get(uc.component_id);
      return { ...uc, component };
    });

  const localPct = bom.filter(b => b.isLocal).reduce((sum, b) => sum + b.fraction_pct, 0);
  const importPct = bom.filter(b => !b.isLocal).reduce((sum, b) => sum + b.fraction_pct, 0);

  const bomRows = bom.map(b => html`
    <tr>
      <td>${b.material?.symbol ? html`<strong>${b.material.symbol}</strong> ` : ''}${b.material?.name || b.material_id}</td>
      <td>${b.fraction_pct}%</td>
      <td>${b.massKg || '—'}</td>
      <td class="${b.isLocal ? 'local' : 'import'}">${b.isLocal ? '✓ местный' : '⚠ импорт'}</td>
    </tr>
  `);

  const componentRows = components.map(c => html`
    <tr>
      <td>${c.component?.name || c.component_id}</td>
      <td>${c.quantity}</td>
      <td>${c.component?.mass_kg ? (c.component.mass_kg * c.quantity).toLocaleString() + ' кг' : '—'}</td>
      <td>${c.component?.description || '—'}</td>
    </tr>
  `);

  return html`
    <div class="db-widget">
      <h4>${unit.name} <span style="color: #6c757d; font-weight: normal;">(${unit.id})</span></h4>
      <div class="meta">
        ${unit.mass_kg ? html`<strong>${unit.mass_kg.toLocaleString()}</strong> кг` : ''}
        ${unit.power_kw ? html` | <strong>${unit.power_kw.toLocaleString()}</strong> кВт` : ''}
        ${planet ? html` | Производство: ${planet.name}` : ''}
      </div>
      ${components.length > 0 ? html`
        <table>
          <thead><tr><th>Компонент</th><th>Кол-во</th><th>Масса</th><th>Описание</th></tr></thead>
          <tbody>${componentRows}</tbody>
        </table>
      ` : ''}
      ${bom.length > 0 ? html`
        <table>
          <thead><tr><th>Материал</th><th>%</th><th>кг</th><th>Источник</th></tr></thead>
          <tbody>${bomRows}</tbody>
        </table>
        <div class="summary">
          Итого: <span class="local-pct">${localPct.toFixed(0)}% местное</span> | <span class="import-pct">${importPct.toFixed(0)}% импорт</span>
        </div>
      ` : ''}
      <div class="link">
        <a href="../../../data/nomenclature.html?unit=${unitId}">Подробнее →</a>
      </div>
    </div>
  `;
}
```

> **TL;DR**
>
> - **Назначение:** Энергоснабжение роботов Gen-2
> - **Технология:** Натрий-Серный аккумулятор (NaS)
> - **Локализация:** 85% местное (Na + S), 15% импорт (β-Al₂O₃ керамика)
> - **Производительность:** 10 батарей/день (50 кВтч каждая)

---

## Обзор

Роботы Gen-2 работают на натрий-серных батареях (NaS Battery). В отличие от Li-Ion батарей Gen-1 (с Земли), NaS батареи производятся из местных материалов — натрия и серы, добытых из реголита.

**Ключевое преимущество:** Высокая рабочая температура (+300°C) не проблема на Меркурии — на солнечной стороне и так +400°C. Подогрев не нужен.

---

## Принцип работы NaS-батареи

### Конструкция

| Компонент | Материал | Источник |
|-----------|----------|----------|
| Анод | Жидкий натрий (Na) | [Дистилляция](../../materials/distillation.qmd) |
| Катод | Жидкая сера (S) | [Линия титана](../../materials/titanium.qmd) |
| Электролит | β-Al₂O₃ (бета-глинозём) | **Импорт с Земли** (первое время) |
| Корпус | Сталь Fe-6%Mn | [Железо](../../materials/iron.qmd) |

### Химическая реакция

**Разряд:**
```
2Na + 5S → Na₂S₅
```

**Заряд:**
```
Na₂S₅ → 2Na + 5S
```

Электролит β-Al₂O₃ проводит ионы Na⁺, но непроницаем для жидких металлов.

---

## Характеристики NaS-батарей

| Параметр | Значение |
|----------|----------|
| Удельная энергия | 150-240 Втч/кг |
| Рабочая температура | 300-350°C |
| Срок службы | 15 лет / 4500 циклов |
| КПД | 85-90% |
| Напряжение | 2.0 В на ячейку |

**Сравнение с Li-Ion:**

| Параметр | NaS | Li-Ion |
|----------|-----|--------|
| Удельная энергия | 150-240 Втч/кг | 150-250 Втч/кг |
| Срок службы | 4500 циклов | 500-1000 циклов |
| Локализация на Меркурии | **85%** | 0% (весь импорт) |

**Вывод:** NaS проигрывает Li-Ion по удельной энергии, но выигрывает по сроку службы и локализации.

---

## Состав батареи (1 кВтч)

```{ojs}
unitWidget("CMP-012")
```

---

## Производство NaS батарей

### Процесс

| Этап | Описание | Оборудование |
|------|----------|--------------|
| 1. Изготовление корпуса | Стальная труба Ø50 мм, длина 1 м | Токарный станок |
| 2. Установка электролита | Керамическая трубка β-Al₂O₃ внутри корпуса | Ручная сборка (Кентавр-М) |
| 3. Заливка Na и S | Натрий в центр, сера снаружи | Вакуумная заливка |
| 4. Герметизация | Сварка крышек в атмосфере Ar | TIG-сварка |
| 5. Первая зарядка | Активация электролита (12 часов при 350°C) | Зарядная станция |
| 6. Тестирование | 10 циклов заряд/разряд | Автоматика |

**Время производства:** 24 часа на 1 батарею (с учётом первой зарядки)

---

## Производительность линии

**Производительность:** ~10 батарей/день (50 кВтч каждая) = **500 кВтч/день**

**На 5 роботов/день:**

| Тип робота | Ёмкость батареи | Батарей на робота |
|------------|----------------|-------------------|
| Крот-М | Кабель (без батареи) | 0 |
| Краб-М | 50 кВтч | 1 |
| Кентавр-М | 20 кВтч | 0.4 |

**Средний микс:** ~3 батареи/день для роботов + 7 батарей/день для запаса/обслуживания

---

## Материальный баланс

**На 10 батарей/день (50 кВтч каждая = 333 кг):**

| Материал | Масса на 10 батарей | Источник |
|----------|---------------------|----------|
| Натрий (Na) | 250 кг | [Дистилляция](../../materials/distillation.qmd) |
| Сера (S) | 250 кг | [Линия титана](../../materials/titanium.qmd) |
| Керамика β-Al₂O₃ | 100 кг | **Импорт с Земли** |
| Сталь (корпус) | 60 кг | [Железо](../../materials/iron.qmd) |
| **ИТОГО** | **~660 кг** | **~85% местное** |

**Потребление из дневного производства:**
- Na: 250 кг из 1000 кг/день = **25%**
- S: 250 кг из 500 кг/день = **50%**
- Fe: 60 кг из 18 т/день = **0.3%**

---

## Обслуживание батарей

| Операция | Периодичность | Исполнитель |
|----------|--------------|-------------|
| Контроль температуры | Постоянно | Автоматика |
| Калибровка (заряд/разряд) | 1 месяц | Автоматика |
| Замена батареи | 5-7 лет | Кентавр-М на сборочном стапеле |

**Утилизация:**
- Натрий и сера извлекаются → повторное использование
- Керамика β-Al₂O₃ → регенерация (если возможно)
- Стальной корпус → переплавка

---

## Энергопотребление производства

| Компонент | Мощность |
|-----------|----------|
| Вакуумная заливка | 20 кВт |
| Зарядная станция (12 часов) | 30 кВт |
| Тестирование | 10 кВт |
| **ИТОГО** | **~60 кВт** |

---

## Контроль качества

| Параметр | Метод | Норма | Действие при отклонении |
|----------|-------|-------|-------------------------|
| Герметичность | Вакуумный тест | <10⁻⁶ мбар·л/с | Отбраковка |
| Ёмкость | Тест заряда | >45 кВтч (90%) | Повторная активация |
| Температура | Термопары | 300-350°C | Регулировка подогрева |
| Циклы | 10 тестовых циклов | Ёмкость >95% | Отбраковка |

---

## Будущая локализация β-Al₂O₃

**Проблема:** Керамика β-Al₂O₃ импортируется с Земли (15% массы батареи).

**Решение:** Производство β-глинозёма на Меркурии:

| Этап | Процесс |
|------|---------|
| 1. Получение Al₂O₃ | Из реголита (боксит Аl₂O₃ · 2H₂O → прокаливание) |
| 2. Стабилизация β-фазы | Добавка Na₂O (0.5-1%) + спекание при 1600°C |
| 3. Керамизация | Формовка трубок + спекание |

**Время внедрения:** После строительства высокотемпературных печей (Год 2-3)

---

## См. также

- [Дистилляция](../../materials/distillation.qmd) — получение Na и S
- [Изготовление рам](frames.qmd) — стальные корпуса для батарей
- [Сборка роботов](../assembly/crabs.qmd) — установка батарей в роботов
- [Переработка реголита](../../materials/overview.qmd) — источник Na и S
